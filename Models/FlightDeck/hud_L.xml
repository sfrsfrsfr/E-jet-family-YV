<?xml version="1.0" encoding="UTF-8"?>
<PropertyList>
    <path>Aircraft/E-jet-family/Models/FlightDeck/hud1.ac</path>
    <effect>
        <object-name>Screen</object-name>
        <inherits-from>Aircraft/E-jet-family/Models/Effects/hud</inherits-from>
    </effect>
    <effect>
        <object-name>Glass</object-name>
        <inherits-from>Effects/model-transparent</inherits-from>
    </effect>
    <animation>
        <type>material</type>
        <object-name>Screen</object-name>
        <emission>
            <red>0.1</red>
            <green>1</green>
            <blue>0.5</blue>
        </emission>
        <transparency><alpha>0.9</alpha></transparency>
    </animation>
    <animation>
        <type>material</type>
        <object-name>Glass</object-name>
        <transparency><alpha>0.1</alpha></transparency>
    </animation>
    <animation>
        <type>pick</type>
        <object-name>Socket</object-name>
        <object-name>Frame</object-name>
        <object-name>Glass</object-name>
        <object-name>Screen</object-name>
        <action>
            <button>0</button>
            <binding>
                <command>property-toggle</command>
                <property>/controls/switches/hud-flip[0]</property>
            </binding>
        </action>
    </animation>
    <animation>
        <type>rotate</type>
        <object-name>Stem</object-name>
        <object-name>Frame</object-name>
        <object-name>Glass</object-name>
        <object-name>Screen</object-name>
        <property>/controls/switches/hud-flip-pos[0]</property>
        <factor>40</factor>
        <center>
            <x-m>0</x-m>
            <y-m>0</y-m>
            <z-m>0</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>0</y>
            <z>1</z>
        </axis>
    </animation>
    <animation>
        <type>rotate</type>
        <object-name>Stem</object-name>
        <object-name>Frame</object-name>
        <object-name>Glass</object-name>
        <object-name>Screen</object-name>
        <property>/controls/switches/hud-flip-pos[0]</property>
        <factor>110</factor>
        <center>
            <x-m>-0.02</x-m>
            <y-m>0</y-m>
            <z-m>0.18</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>1</y>
            <z>0</z>
        </axis>
    </animation>
    <animation>
        <type>rotate</type>
        <object-name>Frame</object-name>
        <object-name>Glass</object-name>
        <object-name>Screen</object-name>
        <property>/controls/switches/hud-flip-pos[0]</property>
        <factor>-200</factor>
        <center>
            <x-m>0.029</x-m>
            <y-m>0</y-m>
            <z-m>0.095</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>1</y>
            <z>0</z>
        </axis>
    </animation>

    <!-- projection simulation -->
    <!-- Key parameters:
        - Width of HUD screen in texel space (2048x2048): 1362 px
        - Width of HUD screen in texture space: 0.665
        - Width of HUD screen in 3D space (Y axis): 0.2444 * 1.369 =
          0.3345836
        Hence, 1m in 3D space = 0.503133 texture units.
    -->
    <animation>
        <type>texmultiple</type>
        <object-name>Screen</object-name>
        <transform>
            <subtype>textranslate</subtype>
            <property>/sim/current-view/x-offset-m</property>
            <bias>0.53</bias>
            <factor>-1.8</factor>
            <axis>
                <x>1</x>
                <y>0</y>
            </axis>
        </transform>
        <transform>
            <subtype>textranslate</subtype>
            <property>/sim/current-view/y-offset-m</property>
            <bias>-1.42</bias>
            <factor>-1.8</factor>
            <axis>
                <x>0</x>
                <y>1</y>
            </axis>
        </transform>
        <transform>
            <subtype>textranslate</subtype>
            <property>/controls/switches/hud-flip-pos[0]</property>
            <bias>0</bias>
            <factor>1</factor>
            <axis>
                <x>-0.5</x>
                <y>1</y>
            </axis>
        </transform>
    </animation>

</PropertyList>
